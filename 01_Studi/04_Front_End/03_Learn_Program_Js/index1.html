<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blocs ID</title>
</head>
<body>
  <h1>Liste des ID de blocs :</h1>
  <ul id="blocs-list"></ul>

  <script>
    // Collez ici le code JavaScript précédent
    createPage = () => {

createBlocs = (blocs) => {
  const numberBlocks = Math.floor(Math.random() * 5) + 1
  for (let i = 0; i < numberBlocks; i++) {
    blocs.push({id: compteur, blocs: []})
    compteur++;
  }
}

const page = {blocs: []}
let compteur = 1;
createBlocs(page.blocs)
page.blocs.forEach(bloc => {
  createBlocs(bloc.blocs)
  bloc.blocs.forEach(bloc => {
    createBlocs(bloc.blocs)
    bloc.blocs.forEach(bloc => {
      createBlocs(bloc.blocs)
    })
  })
})
return page
}


getBlock = (bloc, blocs) => {
if (bloc.blocs.length > 0) {
  bloc.blocs.forEach(b => {
    blocs.push(b.id);
    getBlock(b, blocs);
  })
}
}

const page = createPage(); // création d'un objet page aléatoire
console.log(page);

const idblocs = []; // tableau de stockage des id de chaque bloc
// On boucle sur le tableau de blocs contenu dans page
page.blocs.forEach(bloc => {
idblocs.push(bloc.id); // stock les id des blocs
getBlock(bloc, idblocs) // appel de la fonction récursives
})

console.log(idblocs);
    // Affiche les ID de blocs dans une liste HTML
    const displayIds = (ids) => {
      const ulElement = document.getElementById('blocs-list');
      ids.forEach(id => {
        const li = document.createElement('li');
        li.textContent = `Bloc ID: ${id}`;
        ulElement.appendChild(li);
      });
    };

    displayIds(idblocs);
  </script>
</body>
</html>

