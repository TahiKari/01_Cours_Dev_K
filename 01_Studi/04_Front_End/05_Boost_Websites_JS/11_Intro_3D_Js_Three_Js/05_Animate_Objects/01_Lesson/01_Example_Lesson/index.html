<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Example de la leçon</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div>
      <h1>Example de la leçon</h1>
      <div>
        <h2>Exemple 2</h2>
        <p>Décommenter le code sur le fichier Html</p>
        <!--
            <script type="module">
            import * as THREE from 'https://unpkg.com/three@0.122.0/build/three.module.js'

            // Création de la scène, de la caméra et du renderer
            let scene = new THREE.Scene()
            let camera = new THREE.PerspectiveCamera(
              75,
              window.innerWidth / window.innerHeight,
              0.1,
              1000
            )
            camera.position.z = 4

            let renderer = new THREE.WebGLRenderer()
            renderer.setSize(window.innerWidth, window.innerHeight)
            document.body.appendChild(renderer.domElement)

            // Création du cône
            let coneGeometry = new THREE.ConeGeometry(1, 2, 16)
            let coneMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00 })
            let cone = new THREE.Mesh(coneGeometry, coneMaterial)
            scene.add(cone)

            // Lumière
            let light = new THREE.PointLight(0xffffff, 1, 50)
            light.position.set(0, 0, 3)
            scene.add(light)

            // Couleur du fond de la scène
            renderer.setClearColor(0xffffff)

            const animate = function () {
              // Déplacement du cube sur l'axe des y
              cone.position.y += 0.01

              // Rotation du cube sur l'axe des y
              cone.rotation.y += 0.01

              // Rendu de la frame
              renderer.render(scene, camera)

              // Attente de la prochaine frame
            requestAnimationFrame(animate)
            }

            // On appelle une première fois la fonction pour rentrer dans la boucle
            animate()
          </script>
        -->
      </div>

      <div>
        <h2>Exemple 2</h2>
        <p>Décommenter le code sur le fichier Html</p>
        <!--
            <script type="module">
              import * as THREE from 'https://unpkg.com/three@0.122.0/build/three.module.js'

              // Création de la scène, de la caméra et du renderer
              let scene = new THREE.Scene()
              let camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                1000
              )
              camera.position.z = 4

              let renderer = new THREE.WebGLRenderer()
              renderer.setSize(window.innerWidth, window.innerHeight)
              document.body.appendChild(renderer.domElement)

              // Création du cône
              let coneGeometry = new THREE.ConeGeometry(1, 2, 16)
              let coneMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00 })
              let cone = new THREE.Mesh(coneGeometry, coneMaterial)
              scene.add(cone)

              // Lumière
              let light = new THREE.PointLight(0xffffff, 1, 50)
              light.position.set(0, 0, 3)
              scene.add(light)

              // Couleur du fond de la scène
              renderer.setClearColor(0xffffff)

              const animate = function () {
                // Déplacement et rotation du cube sur l'axe des y
                cone.translateY(0.01)
                cone.rotateY(0.01)

                // Rendu de la frame
                renderer.render(scene, camera)

                // Attente de la prochaine frame
                requestAnimationFrame(animate)
              }

              // On appelle une première fois la fonction pour rentrer dans la boucle
              animate()
            </script>
        -->
      </div>

      <div>
        <h2>Exemple 2</h2>
        <p>Décommenter le code sur le fichier Html</p>
        <!--
            <script type="module">
            import * as THREE from 'https://unpkg.com/three@0.122.0/build/three.module.js'

            // Création de la scène, de la caméra et du renderer
            let scene = new THREE.Scene()
            let camera = new THREE.PerspectiveCamera(
              75,
              window.innerWidth / window.innerHeight,
              0.1,
              1000
            )
            camera.position.z = 4

            let renderer = new THREE.WebGLRenderer()
            renderer.setSize(window.innerWidth, window.innerHeight)
            document.body.appendChild(renderer.domElement)

            // Création du cône
            let coneGeometry = new THREE.ConeGeometry(1, 2, 16)
            let coneMaterial = new THREE.MeshStandardMaterial({ color: 0xffff00 })
            let cone = new THREE.Mesh(coneGeometry, coneMaterial)
            scene.add(cone)

            // Lumière
            let light = new THREE.PointLight(0xffffff, 1, 50)
            light.position.set(0, 0, 3)
            scene.add(light)

            // Couleur du fond de la scène
            renderer.setClearColor(0xffffff)

            const animate = function () {
              // Si le cône est sur la scène...
              if (scene.children.includes(cone)) {
                // Déplacement et rotation du cube sur l'axe des y
                cone.translateY(0.01)
                cone.rotateY(0.01)

                if (cone.position.y > 3) {
                  scene.remove(cone) // On supprime le cône
                }
              }

              // Rendu de la frame
              renderer.render(scene, camera)

              // Attente de la prochaine frame
              requestAnimationFrame(animate)
            }
            // On appelle une première fois la fonction pour rentrer dans la boucle
            animate()
          </script>
        -->
      </div>

      <div>
        <h2>Exemple 2</h2>
        <p>Décommenter le code sur le fichier Html</p>
        <script type="module">
          import * as THREE from 'https://unpkg.com/three@0.157.0/build/three.module.js'

          let scene = new THREE.Scene()
          let camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight,
            0.1,
            1000
          )
          camera.position.x = 3
          let renderer = new THREE.WebGLRenderer()
          renderer.setSize(window.innerWidth, window.innerHeight)
          document.body.appendChild(renderer.domElement)
          let box = new THREE.BoxGeometry(1, 2, 1)
          let sphere = new THREE.SphereGeometry(0.2, 16, 16)

          let basic = new THREE.MeshBasicMaterial({
            color: '#FF0000'
          })
          let standard = new THREE.MeshStandardMaterial({
            roughness: 0.3
          })
          let boxMesh = new THREE.Mesh(box, standard)
          boxMesh.position.set(4, 1, -3)
          scene.add(boxMesh)

          let sphereMesh = new THREE.Mesh(sphere, standard)
          sphereMesh.position.set(0, -1, 0)
          //boxMesh.rotation.x += 90 * Math.PI / 180 //permet de definir sa rotation de base
          boxMesh.add(sphereMesh)

          let light = new THREE.PointLight('#FFFFFF', 30, 50)
          scene.add(light)
          renderer.setClearColor('#FFFFFF')

          const animate = function () {
            if (scene.children.includes(boxMesh)) {
              //boxMesh.position.y += 0.01 // Déplace l'objet sur l'axe x, y, z
              //boxMesh.rotation.x += 0.1 * Math.PI / 180 // permet de faire tourner l'objet sur l'axe x, y, z
              //boxMesh.translateY(0.01) // Déplace aussi l'objet sur l'axe x, y, z
              boxMesh.translateOnAxis(new THREE.Vector3(1, 1, 0), 0.01) // Permet en plus de la distance de spécifier en 1er paramètre un objet de type vector 3, c'est à dire un objet qui a des composantes x, y et z comme la position ou la rotation et donc qui va permettre de définir un axe personnalisé sur lequelle déplacer ou faire pivoter un objet(comme pour toutes les autre méthode on parle ici des axes locaux et non pas de la scène)
              if (boxMesh.position.y > 4) {
                scene.remove(boxMesh)
              }
            }
            renderer.render(scene, camera)
            requestAnimationFrame(animate)
          }

          animate()
        </script>
      </div>
    </div>
  </body>
</html>
