<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercice défi</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div>
      <h1>Exercice défi</h1>
      <div>
        <p>
          Vous cherchez à réaliser un script qui permette de gérer l’importation
          d’un fichier lourd. Une fonction du script vise à traiter les données
          de ce fichier, mais ne peut être exécutée qu’une fois que le fichier
          est complètement chargé. En revanche, tout le reste du script doit
          pouvoir continuer son exécution lors de l’importation du fichier qui
          peut prendre du temps. Nous utiliserons une fonction avec un
          setTimeout() qui représente un temps de chargement fictif. Voici le
          script de départ :
        </p>
        <p
          class="codepen"
          data-height="300"
          data-default-tab="html,result"
          data-slug-hash="MWLaPgB"
          data-user="OpenSpirit"
          style="
            height: 300px;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid;
            margin: 1em 0;
            padding: 1em;
          "
        >
          <span
            >See the Pen
            <a href="https://codepen.io/OpenSpirit/pen/MWLaPgB"> Untitled</a> by
            OpenSpirit (<a href="https://codepen.io/OpenSpirit">@OpenSpirit</a>)
            on <a href="https://codepen.io">CodePen</a>.</span
          >
        </p>
        <script
          async
          src="https://cpwebassets.codepen.io/assets/embed/ei.js"
        ></script>
      </div>

      <div>
        <h2>Question</h2>
        <p>
          Modifiez la fonction chargement() pour qu’elle soit bien définie comme
          asynchrone et qu’elle prenne une fonction callback qui s’exécute quand
          le fichier est chargé.
        </p>
        <div>
          <h2>Solution</h2>
          <p>Voici un code qui fonctionne :</p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="yLZYRLE"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/yLZYRLE"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <a
            href="https://replit.com/@javascript-studi/Fonction-asynchrone-et-callback-Code-18"
            target="_blank"
            rel="alternate"
            >Lien Replit</a
          >
        </div>
      </div>

      <div>
        <h2>Question</h2>
        <p>
          Définissez une fonction qui affiche dans la console « fichier chargé »
          et passez-la comme argument en tant que callback de chargement() en
          l’appelant.
        </p>
        <div>
          <h2>Solution</h2>
          <p>Voici un code qui fonctionne :</p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="OJdyBPm"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/OJdyBPm"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <a
            href="https://replit.com/@javascript-studi/Fonction-asynchrone-et-callback-Code-19"
            target="_blank"
            rel="alternate"
            >Lien Replit</a
          >
        </div>
      </div>
    </div>
  </body>
</html>
