<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Les sous-objets de window</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div>
      <h1>Les sous-objets de window</h1>
      <div>
        <h2>L’objet window.screen</h2>
        <p>
          En JavaScript, l’objet screen représente l’écran sur lequel s’affiche
          le navigateur, donc de votre ordinateur, téléphone ou tablette. Il
          contient des informations sur la résolution de l’écran, la taille de
          l’écran et la profondeur de couleur.
        </p>
        <p>Voici quelques-unes des propriétés de l’objet screen :</p>
        <ul>
          <li>
            <strong>screen.width</strong> : la largeur de l’écran en pixels,
          </li>
          <li>
            <strong>screen.height</strong> : la hauteur de l’écran en pixels,
          </li>
          <li>
            <strong>screen.availWidth</strong> : la largeur disponible de
            l’écran en pixels, c’est-à-dire la largeur de l’écran moins la barre
            des tâches et autres éléments de l’interface utilisateur,
          </li>
          <li>
            <strong>screen.availHeight</strong> : la hauteur disponible de
            l’écran en pixels, c’est-à-dire la hauteur de l’écran moins la barre
            des tâches et autres éléments de l’interface utilisateur,
          </li>
          <li>
            <strong>screen.colorDepth</strong> : la profondeur de couleur de
            l’écran en bits,
          </li>
          <li>
            <strong>screen.pixelDepth</strong> : la profondeur de couleur de
            l’écran en pixels.
          </li>
        </ul>
      </div>

      <div>
        <h2>L’objet screen</h2>
        <div>
          <h3>Exemple</h3>
          <p>
            Nous pouvons afficher dans la console les différentes informations
            concernant l’écran :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="wvNaoqE"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/wvNaoqE"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien Replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-13"
              target="_blank"
              rel="alternate"
            >
              https://replit.com/@javascript-studi/JS-Browser-BOM-Code-13</a
            >
          </p>
          <p>
            Comme vous l’avez compris, screen est un sous-objet de window. Nous
            pouvons donc accéder aux propriétés de screen en spécifiant le mot
            window avant screen :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="abXOBLN"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/abXOBLN"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien Replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-14

          "
              target="_blank"
              rel="alternate"
            >
              https://replit.com/@javascript-studi/JS-Browser-BOM-Code-14
            </a>
          </p>
        </div>
      </div>

      <div>
        <h2>L’objet window.location</h2>
        <p>
          En JavaScript, l’objet <strong>location</strong> représente l’URL de
          la page web actuelle et fournit des propriétés dont des méthodes pour
          interagir avec cette URL.
        </p>
        <p>Voici quelques-unes des propriétés de l’objet location :</p>
        <ul>
          <li>
            <strong>location.href</strong> : contient l’URL complète de la page
            web,
          </li>
          <li>
            <strong>location.protocol</strong> : contient le protocole utilisé
            pour accéder à la page web (par exemple « http : » ou « https : »),
          </li>
          <li>
            <strong>location.host</strong> : contient le nom d’hôte (nom de
            domaine) de la page web,
          </li>
          <li>
            <strong>location.pathname</strong> : contient le chemin d’accès de
            la page web, sans le nom d’hôte.
          </li>
        </ul>
        <p>Voici quelques méthodes de l’objet location :</p>
        <ul>
          <li>
            <strong>location.assign()</strong> : permet de charger la page web
            dont l’URL est passée comme argument. Il se produit la même chose
            quand on modifie la valeur de location.href. Elle ajoute la nouvelle
            URL dans l’historique de navigation.
          </li>
          <li>
            <strong>location.replace()</strong> : permet de remplacer la page
            web actuelle par celle dont l’URL est passée comme argument. À la
            différence de la méthode précédente, la méthode location.replace()
            remplace l’URL courante par la nouvelle URL dans l’historique du
            navigateur. Il n’y a donc pas un ajout d’une entrée dans
            l’historique de navigation, mais un remplacement d’une entrée par
            une autre.
          </li>
          <li>
            <strong>location.toString()</strong> : permet de récupérer l’URL
            sous la forme d’une chaîne de caractères.
          </li>
        </ul>
      </div>

      <div>
        <h2>L’objet location</h2>
        <div>
          <h3>Exemple</h3>
          <p>
            Voici quelques exemples d’utilisation de propriétés de l’objet
            location.
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="PoVqWPL"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/PoVqWPL"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>

          <p>
            Lien Replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-15"
              target="_blank"
              rel="alternate"
              >https://replit.com/@javascript-studi/JS-Browser-BOM-Code-15</a
            >
          </p>
          <p>
            Voici maintenant un exemple d’appel de la méthode location.assign()
            :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="KKJpaNV"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/KKJpaNV"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien replit :<a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-16"
              target="_blank"
              rel="alternate"
              >https://replit.com/@javascript-studi/JS-Browser-BOM-Code-16</a
            >
          </p>
          <p>Voici un exemple d’appel de la méthode location.replace() :</p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="NWoqdzx"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/NWoqdzx"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-17"
              target="_blank"
              rel="alternate"
            >
              https://replit.com/@javascript-studi/JS-Browser-BOM-Code-17</a
            >
          </p>
          <p>Voici un exemple d’appel de la méthode location.toString() :</p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="dyaoNjw"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/dyaoNjw"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-18"
              target="_blank"
              rel="alternate"
              >https://replit.com/@javascript-studi/JS-Browser-BOM-Code-18</a
            >
          </p>
        </div>
      </div>

      <div>
        <h2>L’objet window.history</h2>
        <p>
          L’objet <strong>history</strong> expose plusieurs méthodes et
          propriétés qui permettent de naviguer vers les pages précédentes ou
          suivantes dans l’historique du navigateur, d’ajouter ou de remplacer
          des entrées dans l’historique, de vérifier le nombre d’entrées dans
          l’historique, etc.
        </p>
        <p>
          La propriété <strong>length</strong> permet de connaître le nombre
          d’entrées dans l’historique de navigation (nombre de pages dans
          l’historique, voir la vidéo suivante).
        </p>
        <p>
          Voici quelques méthodes utiles de l’objet
          <strong>window.history</strong> :
        </p>
        <ul>
          <li>
            <strong>history.back()</strong> : charge la page précédente dans
            l’historique du navigateur,
          </li>
          <li>
            <strong>history.forward()</strong> : charge la page suivante dans
            l’historique du navigateur,
          </li>
          <li>
            <strong>history.go(n)</strong> : charge la page située n positions
            dans l’historique du navigateur.
          </li>
        </ul>
        <p>
          Avant de voir quelques exemples concrets d’utilisation de méthodes de
          window.history, nous allons apporter des modifications à
          l’architecture de notre répertoire.
        </p>
      </div>

      <div>
        <h2>
          Modifier l’architecture du répertoire pour utiliser window.history
        </h2>
        <div>
          <h3>Méthode</h3>
          <p>
            En premier lieu, nous allons créer un fichier js du nom de
            destination.js. Ce script sera importé par la page HTML
            destination.html. Pour cela, nous allons modifier le fichier
            destination.html de manière à modifier le bouton 2 et à importer
            destination.js :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="XWObpoZ"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/XWObpoZ"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Nous modifions au passage index.html afin d’ajouter un bouton « back
            » (pour revenir à la page d’avant) et afin de modifier notre premier
            bouton :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="yLZNgZX"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/yLZNgZX"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Voyons maintenant un exemple d’utilisation des méthodes back() et
            forward().
          </p>
        </div>
      </div>

      <div>
        <h2>L’objet window.history</h2>
        <div>
          <h3>Exemple</h3>
          <p>
            Voici un exemple où nous appelons les méthodes back() et forward().
            Ces méthodes vont nous permettre de naviguer dans l’historique. Au
            niveau de notre script.js :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="RwvPKmX"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/RwvPKmX"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>Et pour ce qui est de destination.js :</p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="yLZNgdo"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/yLZNgdo"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien Replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-19"
              target="_blank"
              rel="alternate"
              >https://replit.com/@javascript-studi/JS-Browser-BOM-Code-19</a
            >
          </p>
          <p>Pour bien comprendre, retraçons les étapes :</p>
          <ul>
            <li>
              Dans script.js, nous récupérons la référence des deux boutons.
              Puis nous ajoutons des Event Listener. Le bouton destination va
              déclencher un window.assign vers destination.html. Le bouton
              forward va déclencher un window.history.forward(). Pour bien
              comprendre, cette dernière méthode réalisera la même opération que
              la flèche de navigation du navigateur : « → ».
            </li>
            <li>
              Si nous cliquons sur le bouton destination, le fichier
              destination.html est ouvert et une entrée est ajoutée dans
              l’historique. Le fichier destination.js est exécuté. Nous
              récupérons dedans le bouton back et nous lui affectons un Event
              Listener qui appellera la méthode window.history.back. Cette
              méthode réalisera la même opération que la flèche de navigation du
              navigateur : « ← ». Nous pouvons donc cliquer dessus pour revenir
              en arrière dans l’historique de navigation.
            </li>
            <li>
              Quand nous sommes à nouveau sur index.html, nous pouvons utiliser
              le bouton forward pour aller en avant dans l’historique de
              navigation, nous nous retrouvons alors à nouveau sur la page
              destinatinon.html.
            </li>
          </ul>
          <p>
            Nous pouvons constater que ce système n’aurait pas fonctionné si
            nous avions utilisé avec le bouton destination la méthode
            window.replace, qui n’aurait pas inséré de nouvelle entrée dans
            l’historique de navigation. Par ailleurs, si nous chargeons la page
            et cliquons directement sur le bouton forward, rien ne se passera
            puisque l’historique ne comporte pas d’entrées positionnées après
            l’entrée courante. C’est exactement le même principe que quand nous
            utilisons les flèches de navigation d’un navigateur.
          </p>
          Maintenant que nous avons compris un peu mieux le fonctionnement de
          l’objet window.history, parlons d’un dernier objet qui fera l’objet de
          notre attention dans ce cours : window.document.cookie.
        </div>
      </div>

      <div>
        <h2>L’objet window.document.cookie</h2>
        <p>
          Comme vous le savez, le web d’aujourd’hui regorge des fameux cookies.
          On pourrait penser que les cookies sont des outils servant uniquement
          à harceler les utilisateurs de pubs envahissantes, mais c’est loin
          d’être le cas.
        </p>
        <p>
          Un cookie est un fichier texte stocké sur l’ordinateur d’un
          utilisateur par un site web. Les cookies sont souvent utilisés pour
          stocker des informations qui peuvent être récupérées par le site web à
          une date ultérieure. Les informations stockées dans les cookies
          peuvent être utilisées pour personnaliser l’expérience utilisateur sur
          le site web, ou pour suivre les utilisateurs et collecter des données
          d’utilisation.
        </p>
        <p>
          Donc les cookies vont aussi permettre de mémoriser votre statut de
          connexion sur un site, d’afficher automatiquement un site web dans
          votre langue, etc. Dans votre parcours de développeur, ils seront plus
          qu’indispensables à utiliser dans cette visée, car ils vont vous
          permettre de stocker des informations qui seront utilisables sur
          n’importe quelle page d’un domaine, donc du site web.
        </p>
      </div>

      <div>
        <h2>Créer et récupérer la valeur de cookies</h2>
        <div>
          <h3>Méthode</h3>
          <p>
            Pour créer un cookie, nous pouvons utiliser l’objet cookie de
            JavaScript en procédant ainsi :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="LYqVyjx"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/LYqVyjx"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Voici une explication des différentes informations à renseigner :
          </p>
          <ul>
            <li><strong>clé</strong> : le nom du cookie.</li>
            <li>
              <strong>value</strong> : la valeur à stocker dans le cookie.
            </li>
            <li>
              <strong>date_d’expiration</strong> : la date à laquelle le cookie
              expire. Si cette date n’est pas spécifiée, le cookie est considéré
              comme un cookie de session et sera supprimé lorsque le navigateur
              sera fermé.
            </li>
            <li>
              <strong>chemin</strong> : le chemin associé au cookie. Si cette
              option n’est pas spécifiée, le cookie est associé au chemin de la
              page courante.
            </li>
            <li>
              <strong>domaine</strong> : le domaine associé au cookie. Si cette
              option n’est pas spécifiée, le cookie est associé au domaine de la
              page courante.
            </li>
            <li>
              <strong>secure</strong> : si cette option est spécifiée, le cookie
              ne sera envoyé que sur une connexion HTTPS.
            </li>
          </ul>
          <p>
            Prenons un exemple, ajoutons deux cookies (username et mdp) dans
            notre fichier script.js :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="NWoqjaE"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/NWoqjaE"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Nous interrogeons donc l’utilisateur sur son username et son mdp.
            Puis nous créons des cookies pour le domaine actuel qui seront
            stockés 1 mois, avec les valeurs renseignées par l’utilisateur.
            Notons que nous utilisons de préférence la méthode toUTCString()
            pour récupérer la date de notre objet Date. Maintenant, nous
            pourrons accéder à nos cookies sur n’importe quelle page du domaine.
            Par exemple, modifions destination.js pour récupérer les valeurs des
            cookies :
          </p>
          <p
            class="codepen"
            data-height="300"
            data-default-tab="html,result"
            data-slug-hash="QWYbvao"
            data-user="OpenSpirit"
            style="
              height: 300px;
              box-sizing: border-box;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid;
              margin: 1em 0;
              padding: 1em;
            "
          >
            <span
              >See the Pen
              <a href="https://codepen.io/OpenSpirit/pen/QWYbvao"> Untitled</a>
              by OpenSpirit (<a href="https://codepen.io/OpenSpirit"
                >@OpenSpirit</a
              >) on <a href="https://codepen.io">CodePen</a>.</span
            >
          </p>
          <script
            async
            src="https://cpwebassets.codepen.io/assets/embed/ei.js"
          ></script>
          <p>
            Lien replit :
            <a
              href="https://replit.com/@javascript-studi/JS-Browser-BOM-Code-20"
              target="_blank"
              rel="alternate"
              >https://replit.com/@javascript-studi/JS-Browser-BOM-Code-20</a
            >
          </p>
          <p>
            Dans cet exemple, nous récupérons dans la page destination.html la
            valeur des cookies. Nous créons un tableau qui contiendra les clés /
            valeurs des cookies, et nous l’affichons dans la console. Nous
            pouvons constater que les cookies créés sont accessibles à toutes
            les pages du domaine, ce qui n’est évidemment pas le cas des
            variables basiques que nous déclarons dans un fichier js.
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
